# React to Next.js Conversion Guide (Lovable Source)

## Purpose

This repository is being converted from a React codebase generated by Lovable into a Next.js 15 App Router codebase. This document tells agents how to interpret the source, what to keep, and how to translate patterns so the end result fits this repo.

## What the source looks like

- React app from Lovable (likely Vite/CRA style).
- Client-side routing (React Router or similar).
- Global CSS or component-scoped CSS.
- Data fetching in components (useEffect + fetch) with no server boundaries.

## What the target must look like

- Next.js 15 App Router with routes in `src/app` using file-based segments.
- Server/client boundaries respected (`"use client"` only where needed).
- Shared UI in `src/components`, hooks in `src/hooks`, utilities in `src/lib`.
- Global styles in `src/app/globals.css` and Tailwind utilities per `tailwind.config.ts`.

## Core translation rules

1. **Routes to segments**

- Each React Router path becomes a folder under `src/app` with `page.tsx`.
- Dynamic routes become `[param]/page.tsx`.
- Layouts belong in `layout.tsx` at the segment root.

2. **Client components**

- Only add `"use client"` if the component uses state, effects, browser APIs, or event handlers.
- Purely presentational components can remain server components.

3. **Data fetching**

- Prefer server-side fetching in route segments or server components.
- If client-side fetching is unavoidable, keep it in a client component and move logic to `src/hooks`.
- All backend requests must include `x-api-key` with `EDC_BACKEND_API_KEY`.

4. **Assets and static files**

- Move bundled assets into `src/assets`.
- Anything that must be served as-is goes into `public/`.

5. **Styling**

- Respect existing Tailwind usage and globals.
- If Lovable output uses inline styles or CSS files, port them into Tailwind utilities or `globals.css` as appropriate.

6. **Components**

- Break large Lovable components into smaller ones under `src/components`.
- Keep naming PascalCase for components; utilities in kebab-case.

7. **Navigation**

- Replace `<a href>` with `next/link` where applicable.
- Replace `useNavigate` with `useRouter` from `next/navigation` in client components.

## Conversion checklist per page

- Map the React route to a `src/app/.../page.tsx` file.
- Move reusable UI into `src/components`.
- Decide which parts must be client components; add `"use client"` only there.
- Move data access into server components or route handlers where possible.
- Ensure all backend calls include `x-api-key`.
- Verify styling conforms to Tailwind + `globals.css`.

## Common pitfalls

- Overusing `"use client"` and pushing everything to the client.
- Mixing server-only APIs into client components.
- Leaving React Router artifacts in place.
- Forgetting the `x-api-key` header for backend requests.

## When unsure

- Check existing patterns in `src/app` and `src/components`.
- Follow repo formatting and linting rules.
